{% extends 'base.html' %}

{% load static %}

{% load i18n %}

{% block content %}


{% if messages %}
{% for message in messages %}
<!-- <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}" role="alert">{{ message }}</div> -->
<div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %} alert-dismissable fade show mt-3"
    style="position: fixed; top:0; width:95%" role="alert">
    <strong>{{message}}</strong>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
{% endif %}


<div id="main_container" class="cointainer">
    <div class="d-flex flex-row m-4">
        <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item active h3" aria-current="page" ><a href="#">Timeline</a></li>
            </ol>
          </nav>
    </div>

    <div class="row m-4" style="height: 90%;">
        <div class="col-2">
            <ul class="nav nav-pills flex-column" role="tablist">
                <li class="nav-item" role="presentation">
                    <a class="nav-link active" data-bs-target="#all_area" role="tab" data-bs-toggle="pill" aria-selected="true"> {% blocktrans %}Data visualization{% endblocktrans %}</a>
                </li>
                <!-- <li class="nav-item" role="presentation">
                    <a class="nav-link" data-bs-target="#temperature_area" role="tab" data-bs-toggle="pill">{% blocktrans %}Temperature{% endblocktrans %} (ÂºC)</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" data-bs-target="#noise_area" role="tab" data-bs-toggle="pill">{% blocktrans %}Soil Humidity{% endblocktrans %} (%)</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" data-bs-target="#humidity_area" role="tab" data-bs-toggle="pill">{% blocktrans %}Humidity{% endblocktrans %} (%)</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" data-bs-target="#co2_area" role="tab" data-bs-toggle="pill">{% blocktrans %}Co2{% endblocktrans %} (ppm) </a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" data-bs-target="#light_area" role="tab" data-bs-toggle="pill">{% blocktrans %}Light{% endblocktrans %} (lux)</a>
                </li> -->
                <hr > 
                <li class="nav-item" role="presentation">
                    <a class="nav-link" data-bs-target="#compare_area" role="tab" data-bs-toggle="pill" aria-selected="true"
                        style="color: orange;">{% blocktrans %}Compare measures{% endblocktrans %}</a>
                </li>
            </ul>
        </div>
        <div class="col-10">
            <div class="tab-content clearfix">
                <div id="all_area" class="tab-pane fade active show" role="tabpanel" style="width:100%;height:100%;">
                    <div class="row">
                        <div class="col-2">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="load_switch" checked>
                            <label class="form-check-label" for="load_switch">Activate realtime data</label>
                          </div>
                        </div>
                        <div class="col-10">
                            <div class="custom-file">
                                <input type="file" class="form-control" id="dataset-upload" disabled>
                            </div>
                        </div>
                    </div>

                    <div id="plt_all" style="width:100%;height:90%;"></div>
                </div>
                    <!-- <div id="temperature_area" class="tab-pane fade" role="tabpanel" style="width:100%;height:100%;">
                        <div id="plt_tem" style="width:100%;height:100%;"></div>
                    </div>
                    <div id="noise_area" class="tab-pane fade" role="tabpanel" style="width:100%;height:100%;">
                        <div id="plt_noi" style="width:100%;height:100%;"></div>
                    </div>
                    <div id="humidity_area" class="tab-pane fade" role="tabpanel" style="width:100%;height:100%;">
                        <div id="plt_hum" style="width:100%;height:100%;"></div>
                    </div>
                    <div id="co2_area" class="tab-pane fade" role="tabpanel" style="width:100%;height:100%;">
                        <div id="plt_co2" style="width:100%;height:100%;"></div>
                    </div>
                    <div id="light_area" class="tab-pane fade" role="tabpanel" style="width:100%;height:100%;">
                        <div id="plt_lig" style="width:100%;height:100%;"></div>
                    </div> -->
                <div id="compare_area" class="tab-pane fade" role="tabpanel" style="width:100%;height:100%;">
                    <!-- Example single danger button -->
                    <div style="display: flex; justify-content: space-around;">
                        <div>
                            <li class="nav-item dropdown">
                                <div class="sms-button" id="first-dropdown" role="button" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">
                                    <a class="nav-link dropdown-toggle" href="#">&nbsp;{% blocktrans %}First measure{% endblocktrans %}&nbsp;&nbsp;</a>
                                </div>
                                <div id="first-options" class="dropdown-menu" aria-labelledby="first-dropdown">
                                    <a class="dropdown-item" href="#">{% blocktrans %}Temperature{% endblocktrans %}</a>
                                    <a class="dropdown-item" href="#">{% blocktrans %}Soil Humidity{% endblocktrans %}</a>
                                    <a class="dropdown-item" href="#">{% blocktrans %}Co2{% endblocktrans %}</a>
                                    <a class="dropdown-item" href="#">{% blocktrans %}Light{% endblocktrans %}</a>
                                    <a class="dropdown-item" href="#">{% blocktrans %}Humidity{% endblocktrans %}</a>
                                </div>
                            </li>
                        </div>
                        <div>
                            <li class="nav-item dropdown">
                                <div class="sms-button" id="second-dropdown" role="button" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">
                                    <a class="nav-link dropdown-toggle" href="#">&nbsp;{% blocktrans %}Second measure{% endblocktrans %}&nbsp;&nbsp;</a>
                                </div>
                                <div id="second-options" class="dropdown-menu" aria-labelledby="second-dropdown">
                                    <a class="dropdown-item" href="#">{% blocktrans %}Temperature{% endblocktrans %}</a>
                                    <a class="dropdown-item" href="#">{% blocktrans %}Soil Humidity{% endblocktrans %}</a>
                                    <a class="dropdown-item" href="#">{% blocktrans %}Co2{% endblocktrans %}</a>
                                    <a class="dropdown-item" href="#">{% blocktrans %}Light{% endblocktrans %}</a>
                                    <a class="dropdown-item" href="#">{% blocktrans %}Humidity{% endblocktrans %}</a>
                                </div>
                            </li>
                        </div>
                    </div>
                    <div id="plt_compare" style="width:100%;height:95%;"></div>
                </div>
                <!-- <div id="load_area"class="tab-pane fade" role="tabpanel" style="width:100%;height:100%;">
                    <div class="card p-4">
                        <h5>{% blocktrans %}Load custom dataset...{% endblocktrans %}</h5>
                        <br />
                        <div class="custom-file">
                            <input type="file" class="form-control" id="custom-upload">
                        </div>
                        <!-- <div id="loaded_area" class="tab-pane fade active show" role="tabpanel" style="width:100%;height:100%;">
                            <div id="plt_loaded" style="width:100%;height:100%;"></div>
                        </div> -->

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<script>
    let history = {{ json_history| safe}};
    let pid = {{ plant_id }};
</script>

<script src="{% static 'js/main.js' %}"></script>
<!-- <script src="{% static 'js/realtime_loader.js' %}"></script> -->
<script src="{% static 'js/dataset_loader.js' %}"></script>



{% endblock %}